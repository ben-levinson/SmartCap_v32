<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Thu Feb 04 18:04:28 AEDT 2016 -->
<title>OTAFile</title>
<meta name="date" content="2016-02-04">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="OTAFile";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/zentri/zentri_ble_ota/OTACallbacks.html" title="interface in com.zentri.zentri_ble_ota"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/zentri/zentri_ble_ota/OTAManager.html" title="class in com.zentri.zentri_ble_ota"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/zentri/zentri_ble_ota/OTAFile.html" target="_top">Frames</a></li>
<li><a href="OTAFile.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.zentri.zentri_ble_ota</div>
<h2 title="Class OTAFile" class="title">Class OTAFile</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.zentri.zentri_ble_ota.OTAFile</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">OTAFile</span>
extends java.lang.Object</pre>
<div class="block">Handles OTA firmware images (legacy and current images).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/zentri/zentri_ble_ota/OTAFile.html#BUFFER_COPY">BUFFER_COPY</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/zentri/zentri_ble_ota/OTAFile.html#BUFFER_ORIGINAL">BUFFER_ORIGINAL</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/zentri/zentri_ble_ota/OTAFile.html#OTAFile(byte[])">OTAFile</a></strong>(byte[]&nbsp;fileData)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/zentri/zentri_ble_ota/OTAFile.html#getCRC()">getCRC</a></strong>()</code>
<div class="block">Calculate CRC32 of file, not including top level header.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.nio.ByteBuffer</code></td>
<td class="colLast"><code><strong><a href="../../../com/zentri/zentri_ble_ota/OTAFile.html#getData(boolean)">getData</a></strong>(boolean&nbsp;copyBuffer)</code>
<div class="block">Get binary data to send to the device.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/zentri/zentri_ble_ota/OTAFile.html#getDataLength()">getDataLength</a></strong>()</code>
<div class="block">Get length of data in image (excluding headers).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/zentri/zentri_ble_ota/OTAFile.html#getDataLengthBytes()">getDataLengthBytes</a></strong>()</code>
<div class="block">Get OTA data length as a byte array (used when sending size to device).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/zentri/zentri_ble_ota/FirmwareVersion.html" title="class in com.zentri.zentri_ble_ota">FirmwareVersion</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/zentri/zentri_ble_ota/OTAFile.html#getVersion()">getVersion</a></strong>()</code>
<div class="block">Get version of image.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/zentri/zentri_ble_ota/OTAFile.html#isCurrentImage()">isCurrentImage</a></strong>()</code>
<div class="block">Check if this image is a current type (support OTA2.0).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/zentri/zentri_ble_ota/OTAFile.html#isFileValid()">isFileValid</a></strong>()</code>
<div class="block">Check if this image is valid.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/zentri/zentri_ble_ota/OTAFile.html#isLegacyImage()">isLegacyImage</a></strong>()</code>
<div class="block">Check if this image is a legacy type.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="BUFFER_COPY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BUFFER_COPY</h4>
<pre>public static final&nbsp;boolean BUFFER_COPY</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.zentri.zentri_ble_ota.OTAFile.BUFFER_COPY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="BUFFER_ORIGINAL">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BUFFER_ORIGINAL</h4>
<pre>public static final&nbsp;boolean BUFFER_ORIGINAL</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.zentri.zentri_ble_ota.OTAFile.BUFFER_ORIGINAL">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="OTAFile(byte[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>OTAFile</h4>
<pre>public&nbsp;OTAFile(byte[]&nbsp;fileData)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getData(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getData</h4>
<pre>public&nbsp;java.nio.ByteBuffer&nbsp;getData(boolean&nbsp;copyBuffer)</pre>
<div class="block">Get binary data to send to the device.
 <em> Device must support OTA 2.0 (>= 1.7.x.x), otherwise it needs the 'sfx' image first.</em></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>copyBuffer</code> - if true, returns a ByteBuffer that is a copy of the actual buffer.
                   Note that this does <em>NOT</em> copy the underlying array, only the
                   ByteBuffer object used to point to it. This is used to ensure the OTA
                   process is not affected by changes to the buffer in the application eg
                   position change due to buffer.getData()</dd>
<dt><span class="strong">Returns:</span></dt><dd>binary data to send to device</dd></dl>
</li>
</ul>
<a name="getDataLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataLength</h4>
<pre>public&nbsp;int&nbsp;getDataLength()</pre>
<div class="block">Get length of data in image (excluding headers).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>length of data that will be sent to device</dd></dl>
</li>
</ul>
<a name="getDataLengthBytes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataLengthBytes</h4>
<pre>public&nbsp;byte[]&nbsp;getDataLengthBytes()</pre>
<div class="block">Get OTA data length as a byte array (used when sending size to device).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>data length as 2-byte array (little endian)</dd></dl>
</li>
</ul>
<a name="getVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVersion</h4>
<pre>public&nbsp;<a href="../../../com/zentri/zentri_ble_ota/FirmwareVersion.html" title="class in com.zentri.zentri_ble_ota">FirmwareVersion</a>&nbsp;getVersion()</pre>
<div class="block">Get version of image.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>version</dd></dl>
</li>
</ul>
<a name="isLegacyImage()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLegacyImage</h4>
<pre>public&nbsp;boolean&nbsp;isLegacyImage()</pre>
<div class="block">Check if this image is a legacy type.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if legacy image</dd></dl>
</li>
</ul>
<a name="isCurrentImage()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCurrentImage</h4>
<pre>public&nbsp;boolean&nbsp;isCurrentImage()</pre>
<div class="block">Check if this image is a current type (support OTA2.0).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if current image</dd></dl>
</li>
</ul>
<a name="isFileValid()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFileValid</h4>
<pre>public&nbsp;boolean&nbsp;isFileValid()</pre>
<div class="block">Check if this image is valid.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if valid</dd></dl>
</li>
</ul>
<a name="getCRC()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getCRC</h4>
<pre>public&nbsp;byte[]&nbsp;getCRC()</pre>
<div class="block">Calculate CRC32 of file, not including top level header.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>CRC32 as byte array (little endian).</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/zentri/zentri_ble_ota/OTACallbacks.html" title="interface in com.zentri.zentri_ble_ota"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/zentri/zentri_ble_ota/OTAManager.html" title="class in com.zentri.zentri_ble_ota"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/zentri/zentri_ble_ota/OTAFile.html" target="_top">Frames</a></li>
<li><a href="OTAFile.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
